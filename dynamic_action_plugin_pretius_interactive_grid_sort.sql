prompt --application/set_environment
set define off verify off feedback off
whenever sqlerror exit sql.sqlcode rollback
--------------------------------------------------------------------------------
--
-- Oracle APEX export file
--
-- You should run this script using a SQL client connected to the database as
-- the owner (parsing schema) of the application or as a database user with the
-- APEX_ADMINISTRATOR_ROLE role.
--
-- This export file has been automatically generated. Modifying this file is not
-- supported by Oracle and can lead to unexpected application and/or instance
-- behavior now or in the future.
--
-- NOTE: Calls to apex_application_install override the defaults below.
--
--------------------------------------------------------------------------------
begin
wwv_flow_imp.import_begin (
 p_version_yyyy_mm_dd=>'2023.10.31'
,p_release=>'23.2.4'
,p_default_workspace_id=>73607717304682678195
,p_default_application_id=>192933
,p_default_id_offset=>0
,p_default_owner=>'WKSP_PRETIUS'
);
end;
/
 
prompt APPLICATION 192933 - Pretius Interactive Grid Sort
--
-- Application Export:
--   Application:     192933
--   Name:            Pretius Interactive Grid Sort
--   Date and Time:   07:48 Monday June 3, 2024
--   Exported By:     TKUCHARZYK@PRETIUS.COM
--   Flashback:       0
--   Export Type:     Component Export
--   Manifest
--     PLUGIN: 236532816458602654168
--   Manifest End
--   Version:         23.2.4
--   Instance ID:     63113759365424
--

begin
  -- replace components
  wwv_flow_imp.g_mode := 'REPLACE';
end;
/
prompt --application/shared_components/plugins/dynamic_action/pretius_interactive_grid_sort
begin
wwv_flow_imp_shared.create_plugin(
 p_id=>wwv_flow_imp.id(236532816458602654168)
,p_plugin_type=>'DYNAMIC ACTION'
,p_name=>'PRETIUS_INTERACTIVE_GRID_SORT'
,p_display_name=>'Pretius Interactive Grid Sort'
,p_category=>'COMPONENT'
,p_javascript_file_urls=>'#PLUGIN_FILES#script#MIN#.js'
,p_css_file_urls=>'#PLUGIN_FILES#pretius-interactive-grid-sort.css'
,p_plsql_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function f_render (',
'    p_dynamic_action   in apex_plugin.t_dynamic_action,',
'    p_plugin           in apex_plugin.t_plugin',
') return apex_plugin.t_dynamic_action_render_result as',
'    l_result         apex_plugin.t_dynamic_action_render_result;',
'    p_column_id         constant varchar2(32767) := p_dynamic_action.attribute_01;',
'    p_handler_on        constant varchar2(32767) := p_dynamic_action.attribute_02;',
'    p_custom_handler    constant varchar2(32767) := p_dynamic_action.attribute_03;',
'    p_placeholder_class constant varchar2(32767) := p_dynamic_action.attribute_04;',
'begin',
'',
'    l_result.javascript_function   := ''',
'    function () { ',
'           pretiusInteractiveGridSort.initialize(this, '' ||',
'           apex_javascript.add_value( p_dynamic_action.attribute_01, true ) ||',
'           apex_javascript.add_value( p_dynamic_action.attribute_02, true ) ||',
'           apex_javascript.add_value( p_dynamic_action.attribute_03, true ) ||',
'           apex_javascript.add_value( p_dynamic_action.attribute_04, true ) ||',
'           ''); }'';',
'',
'    return l_result;',
'end;',
''))
,p_default_escape_mode=>'HTML'
,p_api_version=>2
,p_render_function=>'f_render'
,p_standard_attributes=>'REGION:ONLOAD'
,p_substitute_attributes=>true
,p_subscribe_plugin_settings=>true
,p_help_text=>'Please visit GitHub project to see how to set plugin step by step'
,p_version_identifier=>'1.0'
,p_about_url=>'https://github.com/Pretius/pretius-interactive-grid-sort'
,p_files_version=>25
);
wwv_flow_imp_shared.create_plugin_attribute(
 p_id=>wwv_flow_imp.id(236574100694095054726)
,p_plugin_id=>wwv_flow_imp.id(236532816458602654168)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>1
,p_display_sequence=>10
,p_prompt=>'Order Column ID'
,p_attribute_type=>'TEXT'
,p_is_required=>true
,p_default_value=>'ORDER_COL'
,p_max_length=>400
,p_is_translatable=>false
,p_text_case=>'UPPER'
,p_examples=>'ORDER_COL'
,p_help_text=>'Please enter the name of your order column.'
);
wwv_flow_imp_shared.create_plugin_attribute(
 p_id=>wwv_flow_imp.id(236574468190020062994)
,p_plugin_id=>wwv_flow_imp.id(236532816458602654168)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>2
,p_display_sequence=>20
,p_prompt=>'Use custom drag&drop handler'
,p_attribute_type=>'CHECKBOX'
,p_is_required=>false
,p_default_value=>'N'
,p_is_translatable=>false
,p_examples=>'N'
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'If yes, you can enter a class that will be associated with drag&drop functionality. ',
'If no, whole interactive grid row will be sortable.'))
);
wwv_flow_imp_shared.create_plugin_attribute(
 p_id=>wwv_flow_imp.id(236575082253682336372)
,p_plugin_id=>wwv_flow_imp.id(236532816458602654168)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>3
,p_display_sequence=>30
,p_prompt=>'Custom handler class'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_default_value=>'fa-arrows-v'
,p_is_translatable=>false
,p_depending_on_attribute_id=>wwv_flow_imp.id(236574468190020062994)
,p_depending_on_has_to_exist=>true
,p_depending_on_condition_type=>'EQUALS'
,p_depending_on_expression=>'Y'
,p_examples=>'fa-arrows-v'
,p_help_text=>'Please enter a class that will be used for drag&drop functionality'
);
wwv_flow_imp_shared.create_plugin_attribute(
 p_id=>wwv_flow_imp.id(236575821271906350773)
,p_plugin_id=>wwv_flow_imp.id(236532816458602654168)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>4
,p_display_sequence=>40
,p_prompt=>'Placeholder class'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_default_value=>'ui-state-highlight'
,p_is_translatable=>false
,p_examples=>'ui-state-highlight'
,p_help_text=>'Please enter class name that will be applied as effect on sort'
);
end;
/
begin
wwv_flow_imp.g_varchar2_table := wwv_flow_imp.empty_varchar2_table;
wwv_flow_imp.g_varchar2_table(1) := '636F6E73742070726574697573496E74657261637469766547726964536F72743D66756E6374696F6E28297B2275736520737472696374223B636F6E737420653D225072657469757320496E746572616374697665204772696420536F7274223B66756E';
wwv_flow_imp.g_varchar2_table(2) := '6374696F6E207428742C72297B7472797B76617220693D617065782E726567696F6E2874292E77696467657428292E696E7465726163746976654772696428226765745669657773222C226772696422292E6D6F64656C2C6F3D5B5D3B692E666F724561';
wwv_flow_imp.g_varchar2_table(3) := '6368282866756E6374696F6E2865297B76617220743D652C6E3D692E67657456616C756528742C72293B6F2E70757368286E297D29292C6F2E736F727428292C692E666F7245616368282866756E6374696F6E2865297B76617220743D652C6E3D692E67';
wwv_flow_imp.g_varchar2_table(4) := '65745265636F726449642874292C613D24282774725B646174612D69643D22272B6E2B27225D27292E696E64657828293B692E73657456616C756528742C722C537472696E67286F5B615D29297D29297D63617463682874297B617065782E6465627567';
wwv_flow_imp.g_varchar2_table(5) := '2E6572726F7228652C2250726F626C656D207769746820557064617465206F6620496E7465726163746976652047726964222C74297D7D72657475726E7B696E697469616C697A653A66756E6374696F6E28722C692C6F2C6E2C61297B2166756E637469';
wwv_flow_imp.g_varchar2_table(6) := '6F6E28722C692C6F2C6E2C61297B7472797B24282223222B72292E66696E64282274626F647922292E736F727461626C65287B68616E646C653A2259223D3D3D6F2626222E222B6E2C706C616365686F6C6465723A612C73746172743A66756E6374696F';
wwv_flow_imp.g_varchar2_table(7) := '6E28652C74297B742E68656C7065722E616464436C6173732822736F727461626C652D68656C70657222297D2C73746F703A66756E6374696F6E28652C74297B742E6974656D2E72656D6F7665436C6173732822736F727461626C652D68656C70657222';
wwv_flow_imp.g_varchar2_table(8) := '297D2C7570646174653A66756E6374696F6E28652C6F297B7428722C69297D7D297D63617463682874297B617065782E64656275672E6572726F7228652C2250726F626C656D207769746820496E697469616C697A6174696F6E222C74297D7D28722E61';
wwv_flow_imp.g_varchar2_table(9) := '66666563746564456C656D656E74735B305D2E69642C692C6F2C6E2C61297D2C6D6F7665526F773A66756E6374696F6E28722C692C6F297B2166756E6374696F6E28722C692C6F297B7472797B766172206E3D242872292E636C6F736573742822747222';
wwv_flow_imp.g_varchar2_table(10) := '292C613D6E2E636C6F7365737428222E612D494722292E617474722822696422293B613D612E7265706C61636528225F6967222C2222292C227570223D3D3D693F6E2E7072657628292E6265666F7265286E293A6E2E6E65787428292E6166746572286E';
wwv_flow_imp.g_varchar2_table(11) := '292C7428612C6F297D63617463682874297B617065782E64656275672E6572726F7228652C2250726F626C656D2077697468206D6F7665526F772066756E6374696F6E222C74297D7D28722C692C6F297D2C7570646174654F726465723A66756E637469';
wwv_flow_imp.g_varchar2_table(12) := '6F6E28652C72297B7428652C72297D7D7D28293B';
null;
end;
/
begin
wwv_flow_imp_shared.create_plugin_file(
 p_id=>wwv_flow_imp.id(118316427360291989365)
,p_plugin_id=>wwv_flow_imp.id(236532816458602654168)
,p_file_name=>'script.min.js'
,p_mime_type=>'text/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_imp.varchar2_to_blob(wwv_flow_imp.g_varchar2_table)
);
end;
/
begin
wwv_flow_imp.g_varchar2_table := wwv_flow_imp.empty_varchar2_table;
wwv_flow_imp.g_varchar2_table(1) := '636F6E73742070726574697573496E74657261637469766547726964536F7274203D202866756E6374696F6E202829207B0A20202275736520737472696374223B0A2020636F6E73742066656174757265203D20225072657469757320496E7465726163';
wwv_flow_imp.g_varchar2_table(2) := '74697665204772696420536F7274223B0A0A202066756E6374696F6E20696E697469616C697A65536F727461626C654772696428677269645F69642C206F726465725F636F6C756D6E5F69642C2068616E646C65725F6F6E2C20637573746F6D5F68616E';
wwv_flow_imp.g_varchar2_table(3) := '646C65722C20706C616365686F6C6465725F636C61737329207B0A20202020747279207B0A2020202020202428272327202B20677269645F6964292E66696E64282274626F647922292E736F727461626C65287B0A202020202020202068616E646C653A';
wwv_flow_imp.g_varchar2_table(4) := '2068616E646C65725F6F6E203D3D3D20275927203F20222E22202B20637573746F6D5F68616E646C6572203A2066616C73652C0A2020202020202020706C616365686F6C6465723A20706C616365686F6C6465725F636C6173732C0A2020202020202020';
wwv_flow_imp.g_varchar2_table(5) := '2F2F616E696D6174696F6E3A203130302C0A202020202020202073746172743A2066756E6374696F6E20286576656E742C20756929207B0A2020202020202020202075692E68656C7065722E616464436C6173732822736F727461626C652D68656C7065';
wwv_flow_imp.g_varchar2_table(6) := '7222293B0A20202020202020207D2C0A202020202020202073746F703A2066756E6374696F6E20286576656E742C20756929207B0A2020202020202020202075692E6974656D2E72656D6F7665436C6173732822736F727461626C652D68656C70657222';
wwv_flow_imp.g_varchar2_table(7) := '293B0A20202020202020207D2C0A20202020202020207570646174653A2066756E6374696F6E20286576656E742C20756929207B0A202020202020202020207570646174654F7264657228677269645F69642C206F726465725F636F6C756D6E5F696429';
wwv_flow_imp.g_varchar2_table(8) := '3B0A20202020202020207D0A2020202020207D293B0A202020207D20636174636820286529207B0A202020202020617065782E64656275672E6572726F7228666561747572652C202250726F626C656D207769746820496E697469616C697A6174696F6E';
wwv_flow_imp.g_varchar2_table(9) := '222C2065293B0A202020207D0A20207D0A0A202066756E6374696F6E207570646174654F7264657228677269645F69642C206F726465725F636F6C756D6E5F696429207B0A20202020747279207B0A2020202020202F2F204765742074686520496E7465';
wwv_flow_imp.g_varchar2_table(10) := '7261637469766520477269642077696467657420616E64206D6F64656C0A20202020202076617220696724203D20617065782E726567696F6E28677269645F6964292E77696467657428293B0A202020202020766172206D6F64656C203D206967242E69';
wwv_flow_imp.g_varchar2_table(11) := '6E7465726163746976654772696428226765745669657773222C20226772696422292E6D6F64656C3B0A0A2020202020202F2F20476574206172726179206F662063757272656E742076616C75657320696E206F726465725F636F6C756D6E5F69642063';
wwv_flow_imp.g_varchar2_table(12) := '6F6C756D6E0A2020202020207661722063757272656E744F726465724172726179203D205B5D3B0A2020202020206D6F64656C2E666F72456163682866756E6374696F6E20287229207B0A2020202020202020766172207265636F7264203D20723B0A20';
wwv_flow_imp.g_varchar2_table(13) := '20202020202020766172206F72646572203D206D6F64656C2E67657456616C7565287265636F72642C206F726465725F636F6C756D6E5F6964293B0A202020202020202063757272656E744F7264657241727261792E70757368286F72646572293B0A20';
wwv_flow_imp.g_varchar2_table(14) := '20202020207D293B0A2020202020202F2F20536F7274207468652063757272656E74206F726465722061727261790A20202020202063757272656E744F7264657241727261792E736F727428293B0A2020202020202F2F2049746572617465206F766572';
wwv_flow_imp.g_varchar2_table(15) := '2065616368207265636F726420696E20746865206D6F64656C0A2020202020206D6F64656C2E666F72456163682866756E6374696F6E20287229207B0A2020202020202020766172207265636F7264203D20723B0A202020202020202076617220726563';
wwv_flow_imp.g_varchar2_table(16) := '6F72644964203D206D6F64656C2E6765745265636F72644964287265636F7264293B0A2020202020202020766172207472203D2024282774725B646174612D69643D2227202B207265636F72644964202B2027225D27293B0A2020202020202020766172';
wwv_flow_imp.g_varchar2_table(17) := '20696E646578203D2074722E696E64657828293B0A0A20202020202020202F2F20536574207468652076616C7565206F6620746865206F726465725F636F6C756D6E5F696420636F6C756D6E20666F7220746865207265636F726420746F207468652069';
wwv_flow_imp.g_varchar2_table(18) := '6E646578202D2072657573652074686520736F727465642061727261790A20202020202020206D6F64656C2E73657456616C7565287265636F72642C206F726465725F636F6C756D6E5F69642C20537472696E672863757272656E744F72646572417272';
wwv_flow_imp.g_varchar2_table(19) := '61795B696E6465785D29293B0A2020202020207D290A202020207D20636174636820286529207B0A202020202020617065782E64656275672E6572726F7228666561747572652C202250726F626C656D207769746820557064617465206F6620496E7465';
wwv_flow_imp.g_varchar2_table(20) := '726163746976652047726964222C2065293B0A202020207D0A20207D0A0A0A202066756E6374696F6E206D6F7665526F7728627574746F6E2C20646972656374696F6E2C206F726465725F636F6C756D6E5F696429207B0A20202020747279207B0A2020';
wwv_flow_imp.g_varchar2_table(21) := '202020207661722063757272656E74203D202428627574746F6E292E636C6F736573742827747227293B0A2020202020202F2F2046696E642074686520636C6F7365737420696E74657261637469766520677269642069642066726F6D20627574746F6E';
wwv_flow_imp.g_varchar2_table(22) := '0A2020202020207661722069675F6964203D2063757272656E742E636C6F7365737428272E612D494727292E617474722827696427293B0A2020202020202F2F2052656D6F7665205F69672066726F6D207468652069640A20202020202069675F696420';
wwv_flow_imp.g_varchar2_table(23) := '3D2069675F69642E7265706C61636528275F6967272C202727293B0A20202020202069662028646972656374696F6E203D3D3D202775702729207B0A202020202020202063757272656E742E7072657628292E6265666F72652863757272656E74293B0A';
wwv_flow_imp.g_varchar2_table(24) := '2020202020207D20656C7365207B0A202020202020202063757272656E742E6E65787428292E61667465722863757272656E74293B0A2020202020207D0A2020202020207570646174654F726465722869675F69642C206F726465725F636F6C756D6E5F';
wwv_flow_imp.g_varchar2_table(25) := '6964293B0A202020207D20636174636820286529207B0A202020202020617065782E64656275672E6572726F7228666561747572652C202250726F626C656D2077697468206D6F7665526F772066756E6374696F6E222C2065293B0A202020207D0A2020';
wwv_flow_imp.g_varchar2_table(26) := '7D0A0A202072657475726E207B0A20202020696E697469616C697A653A2066756E6374696F6E202870546869732C206F726465725F636F6C756D6E5F69642C2068616E646C65725F6F6E2C20637573746F6D5F68616E646C65722C20706C616365686F6C';
wwv_flow_imp.g_varchar2_table(27) := '6465725F636C61737329207B0A20202020202076617220696E746572616374697665477269644944203D2070546869732E6166666563746564456C656D656E74735B305D2E69643B0A0A202020202020696E697469616C697A65536F727461626C654772';
wwv_flow_imp.g_varchar2_table(28) := '696428696E7465726163746976654772696449442C206F726465725F636F6C756D6E5F69642C2068616E646C65725F6F6E2C20637573746F6D5F68616E646C65722C20706C616365686F6C6465725F636C617373293B0A202020207D2C0A202020206D6F';
wwv_flow_imp.g_varchar2_table(29) := '7665526F773A2066756E6374696F6E20286275746F6E2C20646972656374696F6E2C206F726465725F636F6C756D6E5F696429207B0A2020202020206D6F7665526F77286275746F6E2C20646972656374696F6E2C206F726465725F636F6C756D6E5F69';
wwv_flow_imp.g_varchar2_table(30) := '64293B0A202020207D2C0A202020207570646174654F726465723A2066756E6374696F6E2028677269645F69642C206F726465725F636F6C756D6E5F696429207B0A2020202020207570646174654F7264657228677269645F69642C206F726465725F63';
wwv_flow_imp.g_varchar2_table(31) := '6F6C756D6E5F6964293B0A202020207D0A20207D3B0A7D2928293B0A';
null;
end;
/
begin
wwv_flow_imp_shared.create_plugin_file(
 p_id=>wwv_flow_imp.id(236559507754357188508)
,p_plugin_id=>wwv_flow_imp.id(236532816458602654168)
,p_file_name=>'script.js'
,p_mime_type=>'text/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_imp.varchar2_to_blob(wwv_flow_imp.g_varchar2_table)
);
end;
/
begin
wwv_flow_imp.g_varchar2_table := wwv_flow_imp.empty_varchar2_table;
wwv_flow_imp.g_varchar2_table(1) := '2E75692D73746174652D686967686C69676874207B0A202020206D617267696E3A203170783B0A202020206865696768743A20333470783B0A2020202077696474683A20313030253B0A202020202D7765626B69742D626F782D736861646F773A20696E';
wwv_flow_imp.g_varchar2_table(2) := '7365742030707820307078203170782033707820766172282D2D612D6669656C642D696E7075742D666F6375732D626F726465722D636F6C6F72293B0A202020202D6D6F7A2D626F782D736861646F773A20696E73657420307078203070782031707820';
wwv_flow_imp.g_varchar2_table(3) := '33707820766172282D2D612D6669656C642D696E7075742D666F6375732D626F726465722D636F6C6F72293B0A20202020626F782D736861646F773A20696E7365742030707820307078203170782033707820766172282D2D612D6669656C642D696E70';
wwv_flow_imp.g_varchar2_table(4) := '75742D666F6375732D626F726465722D636F6C6F72293B0A7D0A0A2E736F727461626C652D68656C706572207B0A202020206F7061636974793A20302E373B0A2020202077696474683A203530253B0A202020206865696768743A203530253B0A7D0A0A';
wwv_flow_imp.g_varchar2_table(5) := '2E6469762D736F72742D627574746F6E73207B0A20202020646973706C61793A20666C65783B0A20202020666C65782D646972656374696F6E3A20636F6C756D6E3B0A7D0A0A2E6469762D736F72742D627574746F6E733E627574746F6E207B0A202020';
wwv_flow_imp.g_varchar2_table(6) := '206865696768743A20323070783B0A7D0A0A2E736F72742D636F6E74726F6C207B0A2020202077696474683A20313030253B0A20202020746578742D616C69676E3A2063656E7465723B0A7D';
null;
end;
/
begin
wwv_flow_imp_shared.create_plugin_file(
 p_id=>wwv_flow_imp.id(236587101607968236209)
,p_plugin_id=>wwv_flow_imp.id(236532816458602654168)
,p_file_name=>'pretius-interactive-grid-sort.css'
,p_mime_type=>'text/css'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_imp.varchar2_to_blob(wwv_flow_imp.g_varchar2_table)
);
end;
/
prompt --application/end_environment
begin
wwv_flow_imp.import_end(p_auto_install_sup_obj => nvl(wwv_flow_application_install.get_auto_install_sup_obj, false));
commit;
end;
/
set verify on feedback on define on
prompt  ...done
